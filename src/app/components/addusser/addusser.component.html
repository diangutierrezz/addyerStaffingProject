<ng-sidebar-container>
  <!--Sidebar  -->
  <ng-sidebar [opened]="opened">
      <img src="https://scontent.fscl9-2.fna.fbcdn.net/v/t1.0-9/12644943_219927595018951_5026710537365350049_n.png?_nc_cat=105&_nc_sid=09cbfe&_nc_ohc=PzaIzx-TE5QAX_g4TFg&_nc_ht=scontent.fscl9-2.fna&oh=da8d7a4429a16209c97169f7feb2990a&oe=5F73289F" width="200" height="200" class="img-fluid rounded-circle" >
      <p style="padding-left: 1.2em; margin-top: 1em;">Sesión Administrador</p>
      <a mat-raised-button style="margin: 2em; background-color: #000000; color: #f4f4f4;" (click)='toggleSidebar()'>Cerrar menú </a>
      <ul class="menu">
        <li><a style="color: #000000;" routerLink="/homeadmin" (click)="toggleSidebar()">Inicio</a></li>
        <li><a style="color: #000000;" routerLink="/viewprojectsadmin" (click)="toggleSidebar()">Ver Proyectos</a></li>
        <li><a style="color: #000000;" routerLink="/createproject" (click)="toggleSidebar()">Crear Proyectos</a></li>
        <li><a style="color: #000000;" routerLink="/addusser" (click)="toggleSidebar()">Agregar Colaboradores</a></li>
        <li><a style="color: #000000;" routerLink="/viewcolabs" (click)="toggleSidebar()">Ver Colaboradores</a></li>
          
      </ul>
  </ng-sidebar>
  <!--Page Header  -->
  <div ng-sidebar-content>
      <mat-toolbar style="background-color: #000000; ">
          <a mat-raised-button style="background-color: #cf7500; color: #f4f4f4;"  (click)="toggleSidebar()">Abrir menú </a>
          <span class="example-spacer"></span>
          <a mat-raised-button style="margin-left: 1em;" routerLink="" >Cerrar Sesión</a>
      </mat-toolbar>  
      
      
      <div class="container">
  <mat-horizontal-stepper linear #stepper>
    <mat-step [stepControl]="firstFormGroup" [editable]="isEditable">
      
      <form class="text-center" style="padding: 1em;" [formGroup]="firstFormGroup">
        <ng-template matStepLabel>Crear Usuario</ng-template>
        <div class="p-4"><h3>Agregar datos personales</h3></div>
        <div class="form-group">

        <mat-form-field appearance="outline">
          <mat-label for="rol">Rol</mat-label>
          <mat-select matInput  formControlName="rol" #rol >
            <mat-option *ngFor="let rolv of rolv" [value]="rolv"> {{rolv}} 
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div *ngIf="f.rol.touched && f.rol.invalid" class="alert alert-danger" >
          <div *ngIf="f.rol.errors.required">Rol requerido</div>
      </div>
      </div>

        <div class="form-group">
        <mat-form-field  appearance="outline">
          <mat-label for="nombre">Nombre</mat-label>
          <input matInput id="nombre" formControlName="nombre" required placeholder="Nombre del Colaborador" #nombre>
        </mat-form-field>
        <div *ngIf="f.nombre.touched && f.nombre.invalid " class="alert alert-danger">
          <div *ngIf="f.nombre.errors.required">Nombre requerido</div>
      </div>
    </div>

    <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label  for="apellido">Apellido</mat-label>
          <input matInput id="apellido" formControlName="apellido" required placeholder="Apellido del Colaborador" #apellido >
        </mat-form-field>
        <div *ngIf="f.apellido.touched && f.apellido.invalid" class="alert alert-danger">
          <div *ngIf="f.apellido.errors.required">Apellido requerido</div>
          
      </div>
      </div>

    <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label for="rut">Rut</mat-label>
          <input matInput id="rut" formControlName="rut" required placeholder="12.345.678-9" #rut>
        </mat-form-field>
        <div *ngIf="f.rut.touched && f.rut.invalid" class="alert alert-danger">
          <div *ngIf="f.rut.errors.required">Rut requerido</div>
      </div>
      </div>  

    <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label for="correo">Correo Electrónico</mat-label>
          <input type="email" matInput id="correo" formControlName="correo" required placeholder="correo@ejemplo.com" #correo>
        </mat-form-field>
        <div *ngIf="f.correo.touched && f.correo.invalid" class="alert alert-danger">
          <div *ngIf="f.correo.errors.required">Correo Electrónico requerido</div>
      </div>
      </div> 
      
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label for="contrasena" style="margin-top: 2em;">Contraseña</mat-label>
          <input type="password" minlength="5" matInput id="contrasena" formControlName="contrasena" #contrasena >
        </mat-form-field>
        <div *ngIf="f.contrasena.touched && f.contrasena.invalid" class="alert alert-danger">
          <div *ngIf="f.contrasena.errors.required">Contraseña requerido</div>
          <div *ngIf="f.contrasena.errors.minlength">La contraseña debe tener al menos cinco caracteres</div>
      </div>
      </div>
      
      <div class="form-group">
        <mat-form-field appearance="outline">
          <mat-label for="cargo">Cargo</mat-label>
          <mat-select matInput id="cargo" formControlName="cargo" #cargo >
            <mat-option *ngFor="let cargov of cargov" [value]="cargov"> {{cargov}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div *ngIf="f.cargo.touched && f.cargo.invalid" class="alert alert-danger">
          <div *ngIf="f.cargo.errors.required">Cargo requerido</div>
      </div>
      </div>
        <div>
          <button  class="btn btn-warning" matStepperNext (click)="crearUsuario(rol.value,nombre.value,apellido.value,rut.value,correo.value,contrasena.value,cargo.value)">Siguiente</button>
        
        </div>
      </form>
    </mat-step>

    <mat-step [stepControl]="secondFormGroup" [editable]="isEditable">
      <form class="text-center" style="padding: 1em;" [formGroup]="secondFormGroup">
        <ng-template matStepLabel>Agregar Habilidades</ng-template>  
        <div class="p-4"><h3>Agregar habilidades</h3></div>      
         <form class=" text-center" style="padding: 1em;"> 
                       
          <mat-label>Seleccione una habilidad</mat-label>                            
              <select class="form-control" style="width: 50%;  margin-left: auto; 
              margin-right: auto;"name="miselect" placeholder="Seleccione una Habilidad" [(ngModel)]="habilidad" required>
                <option [value]="h" *ngFor="let h of habilidades">{{h}}</option>
              </select>
              <br>       
            <button class="btn btn" style="background-color: #cf7500; color: #f4f4f4;"  (click)="crearUsuarioHabilidad(rut.value,habilidad.value)">Agregar</button>
            <div style="width: 45%;  margin-left: auto;
            margin-right: auto;" class="alert alert-success" role="alert">
              <p>{{mensaje}}</p>
            </div>
            <hr>
          </form>    
        <div>
          <button class="btn btn-warning" matStepperNext>Finalizar</button>
        </div>
      </form>
    </mat-step>
    <!--<mat-step>
      <ng-template matStepLabel>Finalizado</ng-template>
      <p>El Usuario ha sido crado con éxito</p>
      <div>
        <button mat-button matStepperPrevious>Back</button>
      </div>
    </mat-step>--> 
  </mat-horizontal-stepper>
</div> 
   <!--final sidebar  --> 
</div>
</ng-sidebar-container>